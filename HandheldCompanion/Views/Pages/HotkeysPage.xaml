<Page
    x:Class="HandheldCompanion.Views.Pages.HotkeysPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:cmdHC="clr-namespace:HandheldCompanion.Commands.Functions.HC"
    xmlns:cmdWIN="clr-namespace:HandheldCompanion.Commands.Functions.Windows"
    xmlns:converters="clr-namespace:HandheldCompanion.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
    xmlns:l="clr-namespace:HandheldCompanion.Localization"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:resx="clr-namespace:HandheldCompanion.Properties"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    xmlns:viewmodels="clr-namespace:HandheldCompanion.ViewModels"
    Name="Hotkeys"
    Title="{l:Static resx:Resources.HotkeysPage_Hotkeys}"
    d:Background="White"
    d:DataContext="{d:DesignInstance Type=viewmodels:HotkeyPageViewModel}"
    d:DesignHeight="1500"
    d:DesignWidth="1000"
    KeepAlive="True"
    Loaded="Page_Loaded"
    mc:Ignorable="d">

    <Page.Resources>
        <!--  Converters to split the list  -->
        <converters:EvenIndexFilterConverter x:Key="EvenIndexFilter" />
        <converters:OddIndexFilterConverter x:Key="OddIndexFilter" />
    </Page.Resources>

    <Grid Name="MainGrid" Margin="20">
        <ikw:SimpleStackPanel Name="HotkeysPanel" Spacing="8">

            <!--  Settings  -->
            <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.HotkeysPage_HotkeysSettings}" />
            <ikw:SimpleStackPanel Spacing="3">
                <!--  Rumble on execution  -->
                <ui:SettingsCard Description="{l:Static resx:Resources.HotkeysPage_RumbleOnExecutionDesc}" Header="{l:Static resx:Resources.HotkeysPage_RumbleOnExecution}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE877;" />
                    </ui:SettingsCard.HeaderIcon>

                    <ui:ToggleSwitch IsOn="{Binding Rumble, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Hotkeys  -->
            <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.HotkeysPage_Hotkeys}" />
            <ikw:SimpleStackPanel Spacing="3">
                <ui:SettingsCard
                    Command="{Binding CreateHotkeyCommand}"
                    Header="{l:Static resx:Resources.HotkeysPage_CreateNew}"
                    IsClickEnabled="True"
                    Style="{DynamicResource AccentSettingsCard}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xe710;" />
                    </ui:SettingsCard.HeaderIcon>
                </ui:SettingsCard>

                <ItemsControl
                    ItemTemplate="{StaticResource HotkeyTemplate}"
                    ItemsSource="{Binding HotkeysList, UpdateSourceTrigger=PropertyChanged}"
                    VirtualizingPanel.IsVirtualizing="True"
                    VirtualizingPanel.VirtualizationMode="Recycling">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ikw:SimpleStackPanel Orientation="Vertical" Spacing="3" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                </ItemsControl>

                <!--
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="5*" />
                        <ColumnDefinition Width="5*" />
                    </Grid.ColumnDefinitions>

                    <ItemsControl
                        Grid.Column="0"
                        ItemTemplate="{StaticResource HotkeyTemplate}"
                        ItemsSource="{Binding HotkeysList, Converter={StaticResource EvenIndexFilter}, UpdateSourceTrigger=PropertyChanged}"
                        VirtualizingPanel.IsVirtualizing="True"
                        VirtualizingPanel.VirtualizationMode="Recycling">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <ikw:SimpleStackPanel Orientation="Vertical" Spacing="3" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>

                    <ItemsControl
                        Grid.Column="1"
                        Margin="3,0,0,0"
                        ItemTemplate="{StaticResource HotkeyTemplate}"
                        ItemsSource="{Binding HotkeysList, Converter={StaticResource OddIndexFilter}, UpdateSourceTrigger=PropertyChanged}"
                        VirtualizingPanel.IsVirtualizing="True"
                        VirtualizingPanel.VirtualizationMode="Recycling">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <ikw:SimpleStackPanel Orientation="Vertical" Spacing="3" />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>
                    </ItemsControl>
                </Grid>
                -->
            </ikw:SimpleStackPanel>
        </ikw:SimpleStackPanel>
    </Grid>
</Page>